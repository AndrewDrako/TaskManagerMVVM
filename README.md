# TaskManager

## Постановка задачи
Работа посвящена созданию десктопного приложения для организации работы программистов. 
Приложение может использоваться, как и в крупных проектах для объемных задач, так и для маленьких проектов с небольшим спектром задач.
При первом запуске программа запрашивает у пользователя пароль и имя пользователя для входа в приложение. 
Так как «TaskManager» использует локальный сервер для хранения данных, то при первом запуске придется зарегистрироваться, 
введя свою почту и придумав имя пользователя и пароль. Затем следует проверить свою почту, на которую будет выслан шестизначный код для подтверждения. 
После прохождения аутентификации вы сможете войти в систему и приступить к созданию проекта.
На главной странице вы сможете создать множество проектов для самых разных целей. 
После создания проекта и выбора его как текущего, вам откроется канбан доска с заметками. 
В приложении так же реализована поддержка и смена двух языков (Русский и Английский), смена тем приложения (Custom, Light, Dark), а также связь с разработчиком и подробное описание программы.

## Создание приложения, реализация презентационного слоя
Первым шагом в разработке приложения является создание проекта по средствам технологии WPF.
WPF приложение используя графическую разметку XAML отвечает за презентационный слой приложения. 
Первым делом были созданы окна приложения. Основное (MainWindow.xaml) и два для регистрации и авторизации (RegistrationWindow.xaml и AuthWindow.xaml соответственно).
Следом, в ходе разработки главного окна, были созданы страницы приложения, между которыми входе работы можно легко переключаться.
В качестве сменяющихся страниц был использован элемент графической разметки <UserControl/>. В данном приложении таких всего пять.
Вкладка Home (Home.xaml)
Вкладка Tasks (Tasks.xaml)
Вкладка Settings (Settings.xaml)
Вкладка Account (Account.xaml)
Вкладка Help (Help.xaml)

За современный дизайн отвечает библиотека material-design-theme, которая была подключена с помощью пакетов nugget manager.
Из стилей этой библиотеки были использованы стили для таких графических элементов как:
*	Button
*	ScrollViewer
*	ListBox
*	TextBox
*	TextBlock
*	PasswordBox
*	ComboBox

Дизайн основной темы приложения, а также тема и все цвета разрабатывались вручную без использования библиотек.


## Реализация слоя логики

Для реализации слоя логики в Visual Studio создаем новый проект типа WPF(.NET Framework)
После создания презентационного слоя, следуя законам паттерна MVVM разрабатываются представления окон и страниц приложения.
Для каждого графического представления создается своя модель представления.
Для главного окна:
* MainWindowViewModel.cs
Для окна регистрации и авторизации:
* RegistrationWindowViewModel.cs
* AuthWindowViewModel.cs
Для вкладок (UserControl-ов):
* HomeViewModel.cs
* TasksViewModel.cs
* SettingsViewModel.cs
* AccountViewModel.cs
* HelpViewModel.cs
Для работы и локального сохранения информации в базе данных, используем строку подключения (connectionSring).
В наш проект делаем подключения библиотеки EntityFramework при помощи nugget manager. Описываем MyDataContext объект, наследуемый от DataContext для связи с базой данных. 

Далее после создания всех моделей представления, переходим к следующему этапу MVVM. Создаем модель (или модели для нашего крупного проекта).
В качестве моделей приложения будут использованы следующие классы:
 
* AuthWindowModel.cs – модель для окна авторизации.
* MainWindowModel.cs – модель для главного окна приложения.
* RegModel.cs – модель для окна регистрации.
* Model.cs – базовая модель для команд управления заметками и проектами.
* Note.cs – класс для заметок.
* Project.cs – класс для проектов.
* TranslationLanguage.cs – класс (библиотека для хранения перевода языков приложения).  

## Реализация слоя данных

В качестве слоя данных используется MS SQL Server. Данные хранятся локально. При первом запуске приложения пытается найти на вашем компьютере локальный MS SQL Server и создает там базу данных приложения.
Создания базы данных включает в себя создание таблиц и связей между таблицами.
В качестве таблиц в программе реализованы пять классов, каждый из которых отвечающий за одну таблицу.
* User.cs – таблица хранения пользователей приложения.
* ProjectTable.cs – таблица хранения данных о проекте.
* ToDoTable.cs – таблица заметок для первой колонки (“сделать”)
* InProgressTable.cs – таблица заметок для второй колонки (“в процессе”)
* DoneTable.cs – таблица заметок для последней колонки (“выполнено”)
  
При создании таблиц базы данных используется строка подключения в которой указывается имя базы данных, провайдер и название строки подключения которую использует другой класс обеспечивающий целостность связи с базой данных.  Этот класс (MyDbContext.cs) хранит в себе информацию о таблицах и конструктор со строкой подключения. 

## Взаимодействие с пользователем

При первом запуске пользователь видит перед собой окно регистрации.

Причем кнопка «Продолжить» не активна до тех пор пока не выполниться присоединение к локальной базе данных. При первом запуске она ожидает еще и создание базы данных. При запуске через окно авторизации, процесс соединения с базой данных является асинхронным, то есть выполняется в другом потоке. И вследствие чего не нагружает наше представление (View). После того как кнопка станет активной (при первом запуске около 10 сек в зависимости от мощности) можно авторизоваться, однако беря во внимания первый запуск на локальном компьютере, в базе данных не будет ни одного зарегистрировавшегося пользователя.
Поэтому следует нажать на кнопку «Зарегистрироваться», и ввести вашу электронную почту и придумать имя пользователя и пароль.

Следует ввести существующий адрес электронной почты, так как именно на его будет выслан код подтверждения регистрации.
Далее нужно ввести код из почты, и получить разрешение на авторизацию.

После авторизации вас встречает главное окно приложения.

Вкладкой по умолчанию стоит вкладка Home.
Слева можно переключиться на такие вкладки как:
* Home (Домой - основная)
* Tasks (Задачи)
* Settings (Настройки)
* Account (Аккаунт)
* Help (Помощь)
Во вкладке Home можно создать проект нажав на нижней панели кнопку добавить. При нажатии справа откроются поля для заполнения: имя проекта и какая команда его ведет.

После создания проекта нажмите кнопку «Сохранить» на панели снизу.
При нажатии на эту кнопку проект сохраняется в базе данных и открывается вкладка Tasks с задачами к этому проекту.

Нас встречает базовое представление канбан доски. А именно три колонки: сделать, в процессе и готово.
Добавлять заметки можно только в колонку «Сделать». Происходит это при нажатии кнопки добавить на панели сверху. После нажатия следует заполнить два поля, располагающиеся снизу. После того как новая заметка буде создана или по-другому говоря поменяется наполнение столбца «Сделать», сверху, появится кнопка сохранить текущие заметки.

При нажатии на кнопку сохранить происходит перенос данных на локальный сервер.
Вся суть канбан архитектуры в переносе заметок. Далее, выбрав нужную заметку перенесите в колонку «В процессе», нажав на соответствующую кнопку на панели сверху.

Таким образом задачи, записанные в заметках можно прогонять через весь канбан-цикл, а также в случае неудачи – удалять их из любого состояния.
Третья вкладка приложения отвечает за настройки приложения. Пока, что доступна только смена языка и смена темы приложения. 

При выборе языка следует нажать на кнопку «Применить» и приложение перезапустится для сохранения изменений и вступления их в силу.
С помощью вкладки Аккаунт можно сменить пользователя или создать новый аккаунт.

Последняя же вкладка отвечает за связь пользователя с разработчиком, а также мини инструкцией пользования.

При входе в аккаунт приложения, не нужно будет в следующий раз вводить свое имя пользователя и пароль, так как приложение помнит последнего пользователя. 
Однако оно его забывает, как только из приложения был выполнен выход или попытка зарегистрировать нового пользователя.


## Заключение

Многие программисты перед тем как сесть писать крупный проект не знают с чего начать. 
Перемещаются от одной задачи к другой. Данное приложение позволит им распределять свои силы только на нужный аспект разработки.

